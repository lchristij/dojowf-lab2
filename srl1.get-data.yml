---
- name: "GET NOKIA SR LINUX DATA"
  hosts: "srl"
  gather_facts: false
  connection: "network_cli"

  tasks:
    - name: "run show version NOS"
      ansible.utils.cli_parse:
      sros_command:
        commands:
          - show version
            parser:
          name: "ansible.netcommon.ntc_templates"
      register: "version_result"
    # - name: "run show version on remote device"
    #   community.network.nos_command:
    #     commands: "show version"
    #   register: show_ver
    #   when: ansible_network_os == 'community.network.nos'

    - name: "{{ inventory_hostname | upper }} OS VERSION"
      ansible.builtin.debug:
        msg: "{{ version_result['parsed'][0]['image'] }}"
        